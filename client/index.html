<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Client</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <script>

     function show(obj) {
        console.log(obj);
        document.getElementById('response-container').textContent = JSON.stringify(obj.headers, null, '  ');
     }

     function runFetch() {
        fetch('https://api.glootest.com/get', { credentials: 'include' })
          .then(response => response.json())
          .then(data => show(data));
     }

     function runFetchBearer() {
       fetch('https://api.glootest.com/get', {
         credentials: 'omit',
         headers: {
           'Authorization': 'Bearer XXX'
         }
       })
          .then(response => response.json())
          .then(data => show(data));
     }

      function runFetchApiKey() {
       fetch('https://api.glootest.com/get', {
         credentials: 'omit',
         headers: {
           'api-master-key': 'XXX'
         }
       })
          .then(response => response.json())
          .then(data => show(data));
     }
    </script>
  </head>
  <body>
    <!--[if lt IE 8]>
      <p class="browserupgrade">
      You are using an <strong>outdated</strong> browser. Please
      <a href="http://browsehappy.com/">upgrade your browser</a> to improve
      your experience.
      </p>
    <![endif]-->

    <h1>This is the Client</h1>

    <button onclick="runFetch()">Send Cookie Request</button>
    <p></p>
    <button onclick="runFetchBearer()">Send Bearer Request</button>
    <p></p>
    <button onclick="runFetchApiKey()">Send API Key Request</button>
    <p>
      <a href="/callback/">Callback</a>
    </p>
    <p>
      <a href="/logout/">Logout</a>
    </p>

    <pre id="response-container"></pre>
  </body>
</html>
